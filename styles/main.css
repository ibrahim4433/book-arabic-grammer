@import url('https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@700;900&family=Noto+Naskh+Arabic:wght@400;500;700&display=swap');

:root {
    /* PALETTE: Modern Academic */
    --color-primary: #00897B;   /* Teal (Definitions/Good) */
    --color-accent: #D84315;    /* Burnt Orange (Warnings/Exceptions) */
    --color-dark: #263238;      /* Text */
    --color-light: #F5F5F5;     /* Backgrounds */
    --color-white: #FFFFFF;
    
    /* DENSITY VARIABLES */
    --spacing-tight: 0.5mm;
    --spacing-std: 1mm; /* Aggressively Reduced */
    --radius: 3px;
    
    --shadow-card: 0 2px 4px rgba(0,0,0,0.04);
}

/* 1. PAGE SETUP */
@page {
    size: A4;
    margin: 3mm 2mm 3mm 2mm; /* Top/Bottom 3mm, Side 2mm */
    
    /* Clear default footer */
    @bottom-center { content: none; }

    /* Custom Footer: Circle with Number */
    @bottom-left {
        content: counter(page, arabic-indic);
        font-family: 'Noto Kufi Arabic';
        font-weight: 900;
        font-size: 9pt;
        color: white;

        background-color: var(--color-primary);
        width: 6mm; /* Smaller circle */
        height: 6mm;
        border-radius: 50%;

        text-align: center;
        line-height: 6mm;

        margin-bottom: 5mm;
        margin-left: 5mm;
    }
}

html { direction: rtl; lang: ar; }

body {
    font-family: 'Noto Naskh Arabic', serif;
    color: var(--color-dark);
    font-size: 9pt; /* Reduced to 9pt */
    line-height: 1.15; /* Tight line height */
    margin: 0;
    background-color: #FAFAFA;
    background-image: radial-gradient(#E0E0E0 1px, transparent 1px);
    background-size: 10mm 10mm;
}

h1, h2, h3, h4, p, ul, li {
    margin-top: 0;
    margin-bottom: 0; /* Remove default margins, rely on container spacing */
}

/* 2. THE HEADER STRIP */
.page-header-strip {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid var(--color-primary);
    padding-bottom: 1mm;
    margin-bottom: 1.5mm;
}

/* 3. DENSE CONTENT CARDS */
.content-block {
    background: var(--color-white);
    border-radius: var(--radius);
    box-shadow: var(--shadow-card);
    margin-bottom: var(--spacing-std);
    overflow: hidden;
    page-break-inside: avoid;
}

.block-header {
    background-color: var(--color-primary);
    color: white;
    padding: 0.5mm 1.5mm; /* Very tight */
    font-family: 'Noto Kufi Arabic';
    font-size: 8.5pt;
    font-weight: 700;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.block-header.accent {
    background-color: var(--color-accent);
}

.block-body {
    padding: 1mm;
}

/* 4. SPLIT LAYOUT */
.split-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-std);
    margin-bottom: var(--spacing-std);
}

/* 5. STRUCTURED LISTS */
.structured-list {
    margin: 0;
    padding: 0;
    list-style: none;
}

.structured-list li {
    padding: 0.5mm 0;
    border-bottom: 1px dashed #EEEEEE;
    display: flex;
    align-items: flex-start;
}

.structured-list li:last-child { border-bottom: none; }

.marker {
    color: var(--color-primary);
    font-weight: bold;
    margin-left: 1.5mm;
    min-width: 3mm;
}

/* 6. BENEFIT BOX */
.benefit-box {
    background-color: #E0F2F1;
    border-right: 2px solid var(--color-primary);
    padding: 1mm 1.5mm;
    margin-top: 0.5mm;
    font-size: 8.5pt;
    color: #004D40;
}

/* 7. TABLE STYLES */
.dense-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 8.5pt;
    margin-bottom: var(--spacing-std);
    box-shadow: var(--shadow-card);
    border-radius: var(--radius);
    overflow: hidden;
}

.dense-table th {
    background-color: var(--color-primary);
    color: white;
    padding: 0.5mm 1.5mm;
    text-align: right;
    font-family: 'Noto Kufi Arabic';
}

.dense-table td {
    padding: 0.5mm 1.5mm;
    border-bottom: 1px solid #EEEEEE;
    color: var(--color-dark);
}

.dense-table tr:nth-child(even) { background-color: #FAFAFA; }

/* 8. POETRY LAYOUT */
.poem-container {
    background-color: #FFF;
    border-right: 2px solid var(--color-accent);
    padding: 1mm 1.5mm;
    margin-bottom: var(--spacing-std);
    box-shadow: var(--shadow-card);
    border-radius: var(--radius);
}

.poem-line {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5mm;
    font-weight: bold;
    font-size: 9pt;
}

.hemistich {
    flex: 1;
    text-align: center;
    position: relative;
}

.hemistich:first-child::after {
    content: "•••";
    position: absolute;
    left: -5px;
    color: #E0E0E0;
    font-size: 7pt;
}

/* 9. IRAB CARD */
.irab-box {
    border: 1px solid #E0E0E0;
    border-radius: var(--radius);
    margin-bottom: 1mm;
    display: flex;
    align-items: stretch;
    background: white;
}

.irab-word {
    background-color: var(--color-primary);
    color: white;
    width: 15mm;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-family: 'Noto Kufi Arabic';
    padding: 0.5mm;
    border-radius: 0 var(--radius) var(--radius) 0;
    font-size: 8.5pt;
}

.irab-details {
    padding: 1mm 1.5mm;
    font-size: 8.5pt;
    flex: 1;
}

/* 10. BIO CARD */
.bio-card {
    display: flex;
    gap: 1.5mm;
    background-color: #ECEFF1;
    padding: 1.5mm;
    border-radius: var(--radius);
    margin-bottom: var(--spacing-std);
    align-items: center;
}

.bio-image-placeholder {
    width: 10mm;
    height: 10mm;
    background-color: #B0BEC5;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    font-size: 7pt;
}

/* 11. EXAM STYLES */
.exam-question {
    margin-bottom: 1.5mm;
    border-bottom: 1px dashed #BDBDBD;
    padding-bottom: 1mm;
}

.exam-number {
    display: inline-block;
    background: var(--color-accent);
    color: white;
    width: 4mm;
    height: 4mm;
    text-align: center;
    line-height: 4mm;
    border-radius: 50%;
    margin-left: 1.5mm;
    font-weight: bold;
    font-size: 8pt;
}

/* Footer Decoration Bar */
.footer-decoration {
    position: fixed;
    bottom: -15mm;
    left: 0; right: 0;
    height: 5mm;
    background: var(--color-primary);
    opacity: 0.1;
    z-index: -1;
}
