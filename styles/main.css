@import url('https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@700;900&family=Noto+Naskh+Arabic:wght@400;500;700&display=swap');

:root {
    /* PALETTE: Modern Academic */
    --color-primary: #00897B;   /* Teal - Main Theme */
    --color-secondary: #263238; /* Dark Grey - Text */
    --color-accent: #E64A19;    /* Burnt Orange - Focus/Alerts */
    --color-accent-red: #D32F2F; /* Red - Error/No */
    --color-accent-gold: #FBC02D; /* Gold - Idea */
    --bg-light: #FAFAFA;

    /* SHADOWS: Diffuse, multi-layer shadow for "lifted" effect */
    --shadow-depth: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);

    /* TYPOGRAPHY */
    --font-heading: 'Noto Kufi Arabic', sans-serif;
    --font-body: 'Noto Naskh Arabic', serif;
}

/* 1. GLOBAL PAGE SETUP */
@page {
    size: A4;
    margin: 15mm; /* The Single Source of Truth for Margins */
    margin-right: 20mm; /* Accommodate the side strip */
    bleed: 3mm;
}

html {
    direction: rtl;
    lang: ar;
}

body {
    font-family: var(--font-body);
    color: var(--color-secondary);
    font-size: 12pt;
    line-height: 1.6; /* Tighter professional look */
    margin: 0;
    padding: 0;
    text-align: justify;

    /* TEXTURE: Magazine Aesthetic */
    background-color: #fdfdfd;
    background-image: radial-gradient(#cfd8dc 1.5px, transparent 1.5px);
    background-size: 8mm 8mm;
}

body::before {
    content: "";
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    width: 6mm;
    background-color: var(--color-primary);
    z-index: 999;
}

/* 2. HEADINGS */
h1, h2, h3 {
    font-family: var(--font-heading);
    color: var(--color-primary);
    margin-top: 10mm;
    page-break-after: avoid;
}

h1 {
    font-size: 28pt;
}

h2 {
    font-size: 18pt;
}

h3 {
    font-size: 14pt;
    font-weight: 700;
    color: var(--color-primary);
    margin-bottom: 5mm;
}

/* 3. COMPONENT CLASSES */
.card {
    background-color: #FFFFFF;
    border-radius: 8px;
    padding: 5mm;
    margin: 5mm 0;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    page-break-inside: avoid;
    break-inside: avoid;
}

.rule-box {
    background-color: #FFFFFF;
    border-top: 4px solid var(--color-primary);
    border-radius: 4px;
    padding: 10mm;
    margin: 10mm 0;
    box-shadow: var(--shadow-depth);
    page-break-inside: avoid;
    break-inside: avoid;
}

.alert-box {
    border-right: 6px solid var(--color-accent);
    background-color: #FFF3E0;
    padding: 5mm 10mm;
    margin: 10mm 0;
    font-style: italic;
    page-break-inside: avoid;
    break-inside: avoid;
    box-shadow: var(--shadow-depth);
}

.summary-box {
    background-color: #FFFDE7; /* Light Yellow */
    border: 1px solid var(--color-accent-gold);
    border-radius: 8px;
    padding: 8mm;
    margin: 10mm 0;
    box-shadow: var(--shadow-depth);
    page-break-inside: avoid;
    break-inside: avoid;
}

/* 4. LAYOUT UTILITIES */
.cards-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10mm;
}

.grid-3-columns {
    display: flex;
    gap: 5mm;
    justify-content: space-between;
}

.grid-3-columns > * {
    flex: 1;
    min-width: 0; /* Flexbox overflow fix */
}

/* 5. TEXT & COLOR UTILITIES */
.highlight-red {
    color: var(--color-accent-red);
    font-weight: 700;
}

.highlight-blue {
    color: var(--color-primary); /* Using Primary Teal for Blue/Grammar focus */
    font-weight: 700;
}

.icon-check, .icon-cross {
    font-weight: bold;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: 1.2em;
    height: 1.2em;
    border-radius: 50%;
    margin-left: 5px;
    color: white;
}

.icon-check {
    background-color: var(--color-primary);
}

.icon-check::before {
    content: "\2713";
}

.icon-cross {
    background-color: var(--color-accent-red);
}

.icon-cross::before {
    content: "\2715";
}

.icon-link {
    color: var(--color-secondary);
}

.watermark-number {
    position: absolute;
    top: -20px;
    right: 0;
    font-size: 8rem;
    color: rgba(0,0,0,0.03);
    z-index: 0;
    font-weight: 900;
    line-height: 1;
    pointer-events: none;
}

.icon-bulb {
    color: var(--color-accent-gold);
}

/* 6. COVER PAGE SPECIFICS */
.cover-page {
    height: 297mm; /* Full A4 Height */
    width: 210mm;
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    overflow: hidden;
}

/* Abstract Geometric Shape */
.cover-art::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 180mm;
    height: 180mm;
    border-radius: 50%; /* Circle */
    background-color: var(--color-primary);
    opacity: 0.1;
    z-index: -1;
}

.book-title-hero {
    font-family: var(--font-heading);
    font-weight: 900; /* Massive */
    font-size: 48pt;
    line-height: 1.1;
    color: var(--color-primary);
    margin: 0 0 5mm 0;
    z-index: 1;
}

.book-subtitle-hero {
    font-family: var(--font-heading);
    font-weight: 700;
    font-size: 20pt;
    color: var(--color-secondary);
    margin: 0;
    z-index: 1;
}

.cover-footer {
    position: absolute;
    bottom: 30mm;
    font-size: 14pt;
    color: #546E7A;
    text-align: center;
}

ul {
    list-style-type: disc;
    padding-right: 10mm;
}
